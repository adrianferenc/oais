{"version":3,"sources":["utilities/users-api.js","utilities/users-service.js","components/SignUpForm/SignUpForm.jsx","pages/AuthPage/AuthPage.jsx","pages/LoginForm/LoginForm.jsx","pages/NewPuppyPage/NewPuppyPage.jsx","pages/PuppyHistoryPage/PuppyHistoryPage.jsx","components/NavBar/NavBar.jsx","pages/App/App.jsx","reportWebVitals.js","index.js"],"names":["BASE_URL","require","JSDOM","signUp","userData","sendRequest","login","credentials","url","a","method","payload","options","headers","body","JSON","stringify","token","getToken","Authorization","fetch","res","ok","json","Error","usersAPI","localStorage","setItem","getUser","getItem","parse","atob","split","exp","Date","now","removeItem","user","checkToken","then","dateStr","SignUpForm","state","name","email","password","confirm","error","handleChange","evt","setState","target","value","handleSubmit","preventDefault","formData","props","setUser","disable","this","className","autoComplete","onSubmit","type","onChange","required","disabled","Component","AuthPage","LogIn","useState","setCredentials","setError","NewPuppyPage","PuppyHistoryPage","dateExp","console","log","onClick","NavBar","to","App","auth","setAuth","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.423e5bf7.chunk.js","sourcesContent":["import { getToken } from \"./users-service\";\nconst jsdom = require(\"jsdom\");\nconst { JSDOM } = jsdom;\nconst axios = require(\"axios\");\n\nconst BASE_URL = \"/api/users\";\n\nexport function signUp(userData) {\n  return sendRequest(BASE_URL, \"POST\", userData);\n}\n\nexport function login(credentials) {\n  return sendRequest(`${BASE_URL}/login`, \"POST\", credentials);\n}\n\nexport function checkToken() {\n  return sendRequest(`${BASE_URL}/check-token`);\n}\n\nasync function sendRequest(url, method = \"GET\", payload = null) {\n  // Fetch takes an optional options object as the 2nd argument\n  // used to include a data payload, set headers, etc.\n  const options = { method };\n  if (payload) {\n    options.headers = { \"Content-Type\": \"application/json\" };\n    options.body = JSON.stringify(payload);\n  }\n  const token = getToken();\n  if (token) {\n    // Ensure the headers object exists\n    options.headers = options.headers || {};\n    // Add token to an Authorization header\n    // Prefacing with 'Bearer' is recommended in the HTTP specification\n    options.headers.Authorization = `Bearer ${token}`;\n  }\n  const res = await fetch(url, options);\n  // res.ok will be false if the status code set to 4xx in the controller action\n  if (res.ok) return res.json();\n  throw new Error(\"Bad Request\");\n}\n\nexport async function getSequence(seqId) {\n  try {\n    const { data } = await axios.get(`http://oeis.org/A${seqId}/b${seqId}.txt`);\n    const dom = new JSDOM(data, {\n      runScripts: \"outside-only\",\n      resources: \"usable\",\n    });\n    const { document } = dom.window;\n    const list = document.querySelector(\"pre\");\n\n    return data.replace(/\\n/gm, ` `).replace(/\\s+/gm, ` `).split(\" \");\n  } catch {\n    try {\n      const { data } = await axios.get(`http://oeis.org/A${seqId}/list`);\n      const dom = new JSDOM(data, {\n        runScripts: \"outside-only\",\n        resources: \"usable\",\n      });\n      const { document } = dom.window;\n      const list = document.querySelector(\"pre\");\n\n      return JSON.parse(list.textContent.replace(/\\s+/g, \"\")).map((x) => +x);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n","import * as usersAPI from \"./users-api\";\n\nexport async function signUp(userData) {\n  try {\n    const token = await usersAPI.signUp(userData);\n    localStorage.setItem(\"token\", token);\n    return getUser();\n  } catch {\n    throw new Error(\"Invalid Sign Up\");\n  }\n}\n\nexport function getToken() {\n  const token = localStorage.getItem(\"token\");\n  if (!token) return null;\n  const payload = JSON.parse(atob(token.split(\".\")[1]));\n  if (payload.exp < Date.now() / 1000) {\n    localStorage.removeItem(\"token\");\n    return null;\n  }\n  return token;\n}\n\nexport function getUser() {\n  const token = getToken();\n  return token ? JSON.parse(atob(token.split(\".\")[1])).user : null;\n}\n\nexport function logOut() {\n  localStorage.removeItem(\"token\");\n}\n\nexport async function login(credentials) {\n  try {\n    const token = await usersAPI.login(credentials);\n    localStorage.setItem(\"token\", token);\n    return getUser();\n  } catch {\n    throw new Error(\"Invalid Sign Up\");\n  }\n}\n\nexport function checkToken() {\n  return usersAPI.checkToken().then(dateStr => new Date(dateStr));\n}","// import { render } from '@testing-library/react';\nimport { Component } from 'react';\nimport { signUp } from '../../utilities/users-service';\n\n\nexport default class SignUpForm extends Component {\n    state = {\n        name: '',\n        email: '',\n        password: '',\n        confirm: '',\n        error: ''\n    };\n\n    handleChange = (evt) => {\n        this.setState({\n            [evt.target.name]: evt.target.value,\n            error: ''\n        });\n    };\n\n    handleSubmit = async (evt) => {\n        evt.preventDefault();\n        try {\n            const formData = { ...this.state };\n            delete formData.error;\n            delete formData.confirm;\n            const user = await signUp(formData);\n            this.props.setUser(user)\n        } catch {\n            this.setState({ error: 'Sign Up Failed - Try Again' })\n        }\n    };\n\n    render() {\n        const disable = this.state.password !== this.state.confirm;\n        return (\n            <div>\n                <div className=\"form-container\">\n                    <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n                        <label>Name</label>\n                        <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.handleChange} required />\n                        <label>Email</label>\n                        <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} required />\n                        <label>Password</label>\n                        <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} required />\n                        <label>Confirm</label>\n                        <input type=\"password\" name=\"confirm\" value={this.state.confirm} onChange={this.handleChange} required />\n                        <button type=\"submit\" disabled={disable}>SIGN UP</button>\n                    </form>\n                </div>\n                <p className=\"error-message\">&nbsp;{this.state.error}</p>\n            </div>\n        );\n    }\n}","import SignUpForm from '../../components/SignUpForm/SignUpForm'\n\nexport default function AuthPage({setUser}) {\n    return (\n      <main className=\"AuthPage\">\n        <SignUpForm setUser = {setUser}/>\n      </main>\n    );\n  }","import { useState } from 'react';\nimport { login } from '../../utilities/users-service';\n\nexport default function LogIn(props) {\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n\n  function handleChange(evt) {\n    setCredentials({ ...credentials, [evt.target.name]: evt.target.value });\n    setError('');\n  }\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    try {\n      const user = await login(credentials);\n      props.setUser(user);\n    } catch {\n      setError('Log In Failed - Try Again');\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"form-container\" onSubmit={handleSubmit}>\n        <form autoComplete=\"off\" >\n          <label>Email</label>\n          <input type=\"text\" name=\"email\" value={credentials.email} onChange={handleChange} required />\n          <label>Password</label>\n          <input type=\"password\" name=\"password\" value={credentials.password} onChange={handleChange} required />\n          <button type=\"submit\">LOG IN</button>\n        </form>\n      </div>\n      <p className=\"error-message\">&nbsp;{error}</p>\n    </div>\n  );\n}","export default function NewPuppyPage() {\n    return (\n      <main className=\"NewPuppyPage\">\n        <h1>NewPuppyPage</h1>\n      </main>\n    );\n  }","\nimport { checkToken } from '../../utilities/users-service';\n\nexport default function PuppyHistoryPage() {\n  async function handleCheckToken() {\n    const dateExp = await checkToken()\n    console.log(dateExp);\n  }\n\n  return (\n    <main className=\"PuppyHistoryPage\">\n      <h1>PuppyHistoryPage</h1>\n      <button onClick={handleCheckToken}>Check When My Login Expires</button>\n    </main>\n  );\n}","import { Link } from \"react-router-dom\";\nimport * as userService from '../../utilities/users-service';\n\nexport default function NavBar({user, setUser}) {\n\n    function handleLogOut() {\n        userService.logOut();\n        setUser(null);\n    }\n\n    return (\n        <nav>\n            <Link to=\"/puppies\">Puppy History</Link>\n            &nbsp; | &nbsp;\n            <Link to=\"/puppies/new\">New Puppy</Link>\n            &nbsp; | &nbsp;\n            Welcome, {user.name}\n            &nbsp;&nbsp;<Link to=\"\" onClick={handleLogOut}>Log Out</Link>\n        </nav>\n    )\n}","import \"./App.css\";\nimport { useState } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { getUser } from '../../utilities/users-service'\nimport AuthPage from \"../AuthPage/AuthPage\";\nimport LoginForm from \"../LoginForm/LoginForm\"\nimport NewPuppyPage from \"../NewPuppyPage/NewPuppyPage\";\nimport PuppyHistoryPage from \"../PuppyHistoryPage/PuppyHistoryPage\";\nimport NavBar from \"../../components/NavBar/NavBar\";\n\nexport default function App() {\n  const [user, setUser] = useState(getUser());\n\n  const [auth, setAuth] = useState(true);\n\n\n  return (\n    <main className=\"App\">\n      {user ?\n        <>\n          <NavBar user={user} setUser = {setUser}/>\n          <Switch>\n            <Route path=\"/puppies/new\">\n              <NewPuppyPage />\n            </Route>\n\n            <Route path=\"/puppies\">\n              <PuppyHistoryPage />\n            </Route>\n\n            <Route>\n              <Redirect to=\"/puppies\" />\n            </Route>\n          </Switch>\n        </>\n        : (\n          <>\n          <button onClick = {()=> setAuth(!auth)}> {auth ? 'Login' : 'Sign Up'} </button>\n          \n          {auth && <AuthPage setUser = {setUser}/>}\n          {auth || <LoginForm setUser = {setUser}/>}\n          </>\n        )}\n    </main>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./pages/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n//\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}