(this.webpackJsonpoais=this.webpackJsonpoais||[]).push([[0],{30:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(23),s=n.n(a),u=n(3),i=(n(30),n(5)),o=n(2),l=n.n(o),j=n(4);function p(e){return b.apply(this,arguments)}function b(){return(b=Object(j.a)(l.a.mark((function e(t){var n,r,c,a,s,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2&&void 0!==u[2]?u[2]:null,c={method:n},r&&(c.headers={"Content-Type":"application/json"},c.body=JSON.stringify(r)),(a=g())&&(c.headers=c.headers||{},c.headers.Authorization="Bearer ".concat(a)),e.next=8,fetch(t,c);case 8:if(!(s=e.sent).ok){e.next=11;break}return e.abrupt("return",s.json());case 11:throw new Error("Bad Request");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f="/api/users";function h(e){return p(f,"POST",e)}function d(e){return p("".concat(f,"/login"),"POST",e)}function O(e,t,n,r){return m.apply(this,arguments)}function m(){return(m=Object(j.a)(l.a.mark((function e(t,n,r,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p("".concat(f,"/").concat(t._id),"PUT",{sequenceId:n,method:r,options:c}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t);case 3:return n=e.sent,localStorage.setItem("token",n),e.abrupt("return",w());case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Invalid Sign Up");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(){var e=localStorage.getItem("token");return e?JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3?(localStorage.removeItem("token"),null):e:null}function w(){var e=g();return e?JSON.parse(atob(e.split(".")[1])).user:null}function S(e){return y.apply(this,arguments)}function y(){return(y=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(t);case 3:return n=e.sent,localStorage.setItem("token",n),e.abrupt("return",w());case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Invalid Sign Up");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function q(){return p("".concat(f,"/check-token")).then((function(e){return new Date(e)}))}function k(e,t){return C.apply(this,arguments)}function C(){return(C=Object(j.a)(l.a.mark((function e(t,n){var r,c,a,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:null,c=w(),e.next=4,O(c,t,n,r);case 4:return a=e.sent,localStorage.setItem("token",a),e.abrupt("return",w());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=n(12),N=n(11),U=n(0);function F(e){var t=e.setUser,n=Object(r.useState)({name:"",email:"",password:"",confirm:"",error:""}),c=Object(u.a)(n,2),a=c[0],s=c[1],o=Object(i.g)();function p(e){var t;s(Object(N.a)(Object(N.a)({},a),{},(t={},Object(I.a)(t,e.target.name,e.target.value),Object(I.a)(t,"error",""),t)))}function b(){return(b=Object(j.a)(l.a.mark((function e(n){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,delete(r=Object(N.a)({},a)).error,delete r.confirm,e.next=7,x(r);case 7:c=e.sent,t(c),o.push("/profile"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),s(Object(N.a)(Object(N.a)({},a),{},{error:"Sign Up Failed - Try Again"}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{className:"form-container",children:Object(U.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return b.apply(this,arguments)},children:[Object(U.jsx)("label",{children:"Name"}),Object(U.jsx)("input",{type:"text",name:"name",value:a.name,onChange:p,required:!0}),Object(U.jsx)("label",{children:"Email"}),Object(U.jsx)("input",{type:"email",name:"email",value:a.email,onChange:p,required:!0}),Object(U.jsx)("label",{children:"Password"}),Object(U.jsx)("input",{type:"password",name:"password",value:a.password,onChange:p,required:!0}),Object(U.jsx)("label",{children:"Confirm"}),Object(U.jsx)("input",{type:"password",name:"confirm",value:a.confirm,onChange:p,required:!0}),Object(U.jsx)("button",{type:"submit",disabled:a.password!==a.confirm,children:"SIGN UP"})]})}),Object(U.jsxs)("p",{className:"error-message",children:["\xa0",a.error]})]})}function P(e){var t=e.setUser,n=Object(r.useState)({email:"",password:""}),c=Object(u.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(""),p=Object(u.a)(o,2),b=p[0],f=p[1],h=Object(i.g)();function d(e){s(Object(N.a)(Object(N.a)({},a),{},Object(I.a)({},e.target.name,e.target.value))),f("")}function O(){return(O=Object(j.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,S(a);case 4:r=e.sent,t(r),h.push("/profile"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f("Log In Failed - Try Again");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{className:"form-container",onSubmit:function(e){return O.apply(this,arguments)},children:Object(U.jsxs)("form",{autoComplete:"off",children:[Object(U.jsx)("label",{children:"Email"}),Object(U.jsx)("input",{type:"text",name:"email",value:a.email,onChange:d,required:!0}),Object(U.jsx)("label",{children:"Password"}),Object(U.jsx)("input",{type:"password",name:"password",value:a.password,onChange:d,required:!0}),Object(U.jsx)("button",{type:"submit",children:"LOG IN"})]})}),Object(U.jsxs)("p",{className:"error-message",children:["\xa0",b]})]})}function T(e){var t=e.setUser,n=e.auth,r=e.setAuth;return Object(U.jsxs)("main",{className:"AuthPage",children:[Object(U.jsx)("h1",{children:n?"Sign Up":"Login"}),n&&Object(U.jsx)(F,{setUser:t}),n||Object(U.jsx)(P,{setUser:t}),Object(U.jsxs)("button",{onClick:function(){return r(!n)},children:[" ",n?"Login":"Sign Up"," "]})]})}var A="/api/sequences";function D(e){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p("".concat(A,"/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){e.sequence;var t=e.setSequence,n=Object(r.useState)(""),c=Object(u.a)(n,2),a=c[0],s=c[1];function i(){return(i=Object(j.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("test"),n.preventDefault(),e.next=4,D(a.padStart(6,"0"));case 4:r=e.sent,t({sequenceId:a,sequence:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("div",{className:"form-container",children:Object(U.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return i.apply(this,arguments)},children:[Object(U.jsx)("input",{type:"text",name:"search",value:a,placeholder:"Try 45",onChange:function(e){s(e.target.value)},required:!0}),Object(U.jsx)("button",{disabled:""===a,type:"submit",children:"SEARCH"})]})})})}n(40);n(41);n(42);n(43);n(44);n(45),n(46);n(21),n(25);n(49);function J(e){var t=e.sequence,n=e.setSequence,c=(e.user,e.setUser,Object(r.useState)(0)),a=Object(u.a)(c,2),s=(a[0],a[1],Object(r.useState)(60)),i=Object(u.a)(s,2),o=(i[0],i[1],Object(r.useState)(!1)),l=Object(u.a)(o,2),j=(l[0],l[1],Object(r.useState)(!0)),p=Object(u.a)(j,2);p[0],p[1];return Object(U.jsxs)("main",{className:"Index",children:[Object(U.jsx)("h1",{children:"Online Atlas of Integer Sequences"}),Object(U.jsx)(L,{sequence:t,setSequence:n})]})}var B=n(10);n(50);function G(e){var t=e.sequenceId,n=e.setUser;function r(){return(r=Object(j.a)(l.a.mark((function e(r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,k(t,"delete");case 3:c=e.sent,n(c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(U.jsx)("div",{className:"delete-favorite-button",children:Object(U.jsx)("form",{onSubmit:function(e){return r.apply(this,arguments)},children:Object(U.jsx)("button",{type:"submit",children:"Delete Sequence from Favorites"})})})}n(51);function R(e){var t=e.sequence,n=e.setUser,c=Object(r.useState)(!1),a=Object(u.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(""),p=Object(u.a)(o,2),b=p[0],f=p[1];function h(){return(h=Object(j.a)(l.a.mark((function e(r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),console.log(b),e.next=4,k(t.sequenceId,"add",{sequenceName:b});case 4:c=e.sent,console.log(c),i(!1),f(""),n(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(U.jsx)(U.Fragment,{children:s?Object(U.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(U.jsx)("input",{type:"text",name:"renameValue",placeholder:t.sequenceName,value:b,onChange:function(e){f(e.target.value)},required:!0}),Object(U.jsx)("button",{type:"submit",children:"Change name"}),Object(U.jsx)("button",{onClick:function(){return i(!1)},children:"Cancel"})]}):Object(U.jsx)("button",{onClick:function(e){i(!0),f(t.sequenceName)},children:"Rename Sequence"})})}function M(e){var t=e.user,n=e.setUser,r=e.setSequence,c=Object(i.g)();function a(){return(a=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t.padStart(6,"0"));case 2:n=e.sent,r({sequenceId:t,sequence:n}),u();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){c.push("/")}return Object(U.jsxs)("main",{className:"Profile",children:[Object(U.jsxs)("h1",{children:["Welcome ",t.name]}),Object(U.jsx)("h3",{children:"Favorite Sequences:"}),Object(U.jsx)("div",{className:"favorites",children:t.favorites.map((function(e,t){return Object(U.jsxs)("div",{children:[Object(U.jsxs)(B.b,{to:"/#",onClick:function(){return function(e){return s.apply(this,arguments)}(e.sequenceId)},children:[" ",e.sequenceName]}),Object(U.jsx)(G,{sequenceId:e.sequenceId,setUser:n}),Object(U.jsx)(R,{sequence:e,setUser:n})]},t)}))}),Object(U.jsx)("div",{}),Object(U.jsx)("button",{color:"primary",onClick:function(){return a.apply(this,arguments)},children:"Check When My Login Expires"})]})}n(52);n(53);function W(){var e=Object(r.useState)(w()),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),s=Object(u.a)(a,2),o=s[0],l=s[1],j=Object(r.useState)({sequenceId:"",sequence:[],options:{viewStart:0,width:100}}),p=Object(u.a)(j,2),b=p[0],f=p[1];return Object(U.jsx)("main",{className:"App",children:Object(U.jsx)("main",{className:"main-page",children:Object(U.jsxs)(i.d,{children:[Object(U.jsx)(i.b,{exact:!0,path:"/",children:Object(U.jsx)(J,{sequence:b,setSequence:f,user:n,setUser:c})}),Object(U.jsx)(i.b,{exact:!0,path:"/profile",children:Object(U.jsx)(M,{user:n,setUser:c,setSequence:f})}),Object(U.jsx)(i.b,{exact:!0,path:"/signup",children:Object(U.jsx)(T,{setUser:c,auth:o,setAuth:l})}),Object(U.jsx)(i.b,{children:Object(U.jsx)(i.a,{to:"/"})})]})})})}var z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(B.a,{children:Object(U.jsx)(W,{})})}),document.getElementById("root")),z()}},[[54,1,2]]]);
//# sourceMappingURL=main.f88b9811.chunk.js.map