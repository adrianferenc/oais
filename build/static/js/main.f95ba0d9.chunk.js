(this.webpackJsonpoais=this.webpackJsonpoais||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(19),s=n.n(a),i=(n(29),n(6)),u=(n(30),n(4)),o=n(2),l=n.n(o),j=n(3);function h(e){return p.apply(this,arguments)}function p(){return(p=Object(j.a)(l.a.mark((function e(t){var n,r,c,a,s,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",r=i.length>2&&void 0!==i[2]?i[2]:null,c={method:n},r&&(c.headers={"Content-Type":"application/json"},c.body=JSON.stringify(r)),(a=w())&&(c.headers=c.headers||{},c.headers.Authorization="Bearer ".concat(a)),e.next=8,fetch(t,c);case 8:if(!(s=e.sent).ok){e.next=11;break}return e.abrupt("return",s.json());case 11:throw new Error("Bad Request");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b="/api/users";function d(e){return h(b,"POST",e)}function f(e){return h("".concat(b,"/login"),"POST",e)}function O(e,t,n){return m.apply(this,arguments)}function m(){return(m=Object(j.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h("".concat(b,"/").concat(t._id),"PUT",{sequenceId:n,method:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(t);case 3:return n=e.sent,localStorage.setItem("token",n),e.abrupt("return",g());case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Invalid Sign Up");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(){var e=localStorage.getItem("token");return e?JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3?(localStorage.removeItem("token"),null):e:null}function g(){var e=w();return e?JSON.parse(atob(e.split(".")[1])).user:null}function S(e){return y.apply(this,arguments)}function y(){return(y=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:return n=e.sent,localStorage.setItem("token",n),e.abrupt("return",g());case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Invalid Sign Up");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function k(){return h("".concat(b,"/check-token")).then((function(e){return new Date(e)}))}var q=n(14),C=n(10),N=n(20),I=n(21),U=n(24),F=n(23),P=n(0),A=function(e){Object(U.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(N.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={name:"",email:"",password:"",confirm:"",error:""},e.handleChange=function(t){var n;e.setState((n={},Object(C.a)(n,t.target.name,t.target.value),Object(C.a)(n,"error",""),n))},e.handleSubmit=function(){var t=Object(j.a)(l.a.mark((function t(n){var r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,delete(r=Object(q.a)({},e.state)).error,delete r.confirm,t.next=7,x(r);case 7:c=t.sent,e.props.setUser(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.setState({error:"Sign Up Failed - Try Again"});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(I.a)(n,[{key:"render",value:function(){var e=this.state.password!==this.state.confirm;return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"form-container",children:Object(P.jsxs)("form",{autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(P.jsx)("label",{children:"Name"}),Object(P.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,required:!0}),Object(P.jsx)("label",{children:"Email"}),Object(P.jsx)("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}),Object(P.jsx)("label",{children:"Password"}),Object(P.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,required:!0}),Object(P.jsx)("label",{children:"Confirm"}),Object(P.jsx)("input",{type:"password",name:"confirm",value:this.state.confirm,onChange:this.handleChange,required:!0}),Object(P.jsx)("button",{type:"submit",disabled:e,children:"SIGN UP"})]})}),Object(P.jsxs)("p",{className:"error-message",children:["\xa0",this.state.error]})]})}}]),n}(r.Component);function D(e){var t=e.setUser,n=Object(r.useState)({email:"",password:""}),c=Object(i.a)(n,2),a=c[0],s=c[1],u=Object(r.useState)(""),o=Object(i.a)(u,2),h=o[0],p=o[1];function b(e){s(Object(q.a)(Object(q.a)({},a),{},Object(C.a)({},e.target.name,e.target.value))),p("")}function d(){return(d=Object(j.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,S(a);case 4:r=e.sent,t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p("Log In Failed - Try Again");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"form-container",onSubmit:function(e){return d.apply(this,arguments)},children:Object(P.jsxs)("form",{autoComplete:"off",children:[Object(P.jsx)("label",{children:"Email"}),Object(P.jsx)("input",{type:"text",name:"email",value:a.email,onChange:b,required:!0}),Object(P.jsx)("label",{children:"Password"}),Object(P.jsx)("input",{type:"password",name:"password",value:a.password,onChange:b,required:!0}),Object(P.jsx)("button",{type:"submit",children:"LOG IN"})]})}),Object(P.jsxs)("p",{className:"error-message",children:["\xa0",h]})]})}function E(e){var t=e.setUser,n=e.auth;return Object(P.jsxs)("main",{className:"AuthPage",children:[n&&Object(P.jsx)(A,{setUser:t}),n||Object(P.jsx)(D,{setUser:t})]})}var T="/api/sequences";function L(e){return M.apply(this,arguments)}function M(){return(M=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h("".concat(T,"/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){var t=e.setSequence,n=Object(r.useState)(""),c=Object(i.a)(n,2),a=c[0],s=c[1];function u(){return(u=Object(j.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,L(a.padStart(6,"0"));case 3:r=e.sent,t({sequenceId:a,sequence:r});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"form-container",children:Object(P.jsxs)("form",{autoComplete:"off",onSubmit:function(e){return u.apply(this,arguments)},children:[Object(P.jsx)("input",{type:"text",name:"search",value:a,placeholder:"Try 45",onChange:function(e){s(e.target.value)},required:!0}),Object(P.jsx)("button",{type:"submit",children:"SEARCH"})]})})})}n(33);function V(e){var t=e.width,n=e.setWidth;function r(e,t){return c.apply(this,arguments)}function c(){return(c=Object(j.a)(l.a.mark((function e(r,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),n(t+(a="plus"===c?10:-10)>30?t+a:30);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"zoom-buttons",children:[Object(P.jsx)("form",{onSubmit:function(e){return r(e,"minus")},children:Object(P.jsx)("button",{type:"submit",children:"-"})}),Object(P.jsx)("form",{onSubmit:function(e){return r(e,"plus")},children:Object(P.jsx)("button",{type:"submit",children:"+"})})]})})}var W=[[212,14,13],[329,104,25],[235,180,36],[73,195,158],[128,210,222],[95,112,143],[63,15,63],[229,22,112]],B=W.length;function G(e,t,n,r){return n[e]*(1-B*(t-Math.floor(t*B)/B))+B*(t-Math.floor(t*B)/B)*r[e]}function z(e){return function(e,t,n){return"rgb(".concat(G(0,e,t,n),", ").concat(G(1,e,t,n),", ").concat(G(2,e,t,n),")")}(e,W[Math.floor(e*B)%B],W[(Math.floor(e*B)+1)%B])}function R(e){var t=e.viewStart,n=e.setViewStart,r=e.direction,c="right"===r?Object(P.jsx)(P.Fragment,{children:"\u2192"}):Object(P.jsx)(P.Fragment,{children:"\u2190"});function a(){return(a=Object(j.a)(l.a.mark((function e(c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),n(t+(a="right"===r?10:-10)>0?t+a:0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(P.jsx)("div",{className:"movement-button",children:Object(P.jsx)("form",{onSubmit:function(e){return a.apply(this,arguments)},children:Object(P.jsx)("button",{type:"submit",children:c})})})}n(34);function H(e){var t=e.viewStart,n=e.setViewStart,r=e.sequence,c=e.width;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:!!r.sequenceId&&"Sequence ".concat(r.sequenceId)}),Object(P.jsxs)("div",{className:"OAIS",children:[Object(P.jsx)("div",{children:Object(P.jsx)(R,{viewStart:t,setViewStart:n,direction:"left"})}),Object(P.jsx)("div",{id:"sequence",children:r.sequence.slice(t,t+10).map((function(e,n){var a=z((t+n)%100/Math.min(100,r.sequence.length)+.001);return Object(P.jsx)("div",{style:{backgroundColor:a,width:"".concat(c,"px"),position:"absolute",left:"".concat(n*(.78*c)+40,"px")},className:"chevron",value:+e,children:Object(P.jsx)("p",{className:"number",children:e})},t+n)}))}),Object(P.jsx)("div",{children:Object(P.jsx)(R,{viewStart:t,setViewStart:n,direction:"right"})})]})]})}n(35);function _(e){var t=e.sequence,n=e.user,c=e.setUser,a=Object(r.useState)(!1),s=Object(i.a)(a,2),u=s[0],o=s[1];function h(){return(h=Object(j.a)(l.a.mark((function e(r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,O(n,t.sequenceId,"add");case 3:a=e.sent,c(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(P.jsxs)("div",{className:"add-favorite-button",children:[Object(P.jsx)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:Object(P.jsx)("button",{type:"submit",children:"Add Sequence to Favorites"})}),Object(P.jsx)("p",{children:u||"Sequence added to favorites"})]})}function K(e){var t=e.user,n=e.setUser,c=Object(r.useState)({sequenceId:"",sequence:[]}),a=Object(i.a)(c,2),s=a[0],u=a[1],o=Object(r.useState)(0),h=Object(i.a)(o,2),p=h[0],b=h[1],d=Object(r.useState)(100),f=Object(i.a)(d,2),O=f[0],m=f[1];return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),Object(P.jsxs)("main",{className:"Index",children:[Object(P.jsx)("h1",{children:"Online Atlas of Integer Sequences"}),Object(P.jsx)(V,{width:O,setWidth:m}),Object(P.jsx)(J,{setSequence:u}),Object(P.jsx)(H,{viewStart:p,setViewStart:b,sequence:s,width:O}),Object(P.jsx)(_,{sequence:s,user:t,setUser:n})]})}function Q(e){var t=e.sequence,n=e.user,r=e.setUser;function c(){return(c=Object(j.a)(l.a.mark((function e(c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,O(n,t,"delete");case 3:a=e.sent,r(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(P.jsx)("div",{className:"delete-favorite-button",children:Object(P.jsx)("form",{onSubmit:function(e){return c.apply(this,arguments)},children:Object(P.jsx)("button",{type:"submit",children:"Delete Sequence from Favorites"})})})}function X(e){var t=e.user,n=e.setUser;function r(){return(r=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(P.jsxs)("main",{className:"Profile",children:[Object(P.jsx)("h1",{children:"Profile"}),Object(P.jsxs)("h3",{children:["Welcome ",t.name]}),Object(P.jsxs)("div",{className:"favorites",children:[Object(P.jsx)("h4",{children:"Favorite Sequences:"}),Object(P.jsx)("ul",{children:t.favorites.map((function(e,r){return Object(P.jsxs)("li",{children:[e," ",Object(P.jsx)(Q,{sequence:e,user:t,setUser:n})," "]},r)}))})]}),Object(P.jsx)("div",{}),Object(P.jsx)("button",{color:"primary",onClick:function(){return r.apply(this,arguments)},children:"Check When My Login Expires"})]})}var Y=n(11);function Z(e){var t=e.user,n=e.setUser;return Object(P.jsxs)("nav",{children:[Object(P.jsx)(Y.b,{to:"/",children:"OAIS"}),"\xa0 | \xa0",Object(P.jsx)(Y.b,{to:"/profile",children:"Profile"}),"\xa0 | \xa0 Welcome, ",t.name,"\xa0\xa0",Object(P.jsx)(Y.b,{to:"",onClick:function(){localStorage.removeItem("token"),n(null)},children:"Log Out"})]})}function $(){var e=Object(r.useState)(g()),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),s=Object(i.a)(a,2),o=s[0],l=s[1];return Object(P.jsx)("main",{className:"App",children:n?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Z,{user:n,setUser:c}),Object(P.jsxs)(u.d,{children:[Object(P.jsx)(u.b,{exact:!0,path:"/",children:Object(P.jsx)(K,{user:n,setUser:c})}),Object(P.jsx)(u.b,{exact:!0,path:"/profile",children:Object(P.jsx)(X,{user:n,setUser:c})}),Object(P.jsx)(u.b,{children:Object(P.jsx)(u.a,{to:"/"})})]})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("button",{onClick:function(){return l(!o)},children:[" ",o?"Login":"Sign Up"," "]}),Object(P.jsx)(E,{setUser:c,auth:o})]})})}var ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(Y.a,{children:Object(P.jsx)($,{})})}),document.getElementById("root")),ee()}},[[44,1,2]]]);
//# sourceMappingURL=main.f95ba0d9.chunk.js.map